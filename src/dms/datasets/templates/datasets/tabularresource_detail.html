{% extends 'datasets/resource_detail_base.html' %}
{% load static %}

{% block resource_specific_content %}
{% if object.metadata.driver == 'Parquet' %}
<c-accordion.item value='item-2'>
    <c-accordion.trigger value='item-2' class="text-2xl font-bold">Preview</c-accordion.trigger>
    <c-accordion.content value='item-2'>
        <div id="parquet-preview" data-url="{{ object.uri }}"></div>
    </c-accordion.content>
</c-accordion.item>
{% endif %}
{% endblock resource_specific_content %}

{% block body_javascript %}
    {{ block.super }}
    {% if object.metadata.driver == 'Parquet' %}
    <link rel="stylesheet" href="{% static 'css/parquet.css' %}">
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="{% static 'js/parquet-preview.js' %}" data-type="module" type="text/babel"></script>
    {% endif %}
{% endblock body_javascript %}
