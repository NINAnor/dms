{% extends 'app.html' %}
{% load rules %}
{% load static %}
{% load language_tags %}
{% load i18n %}
{% block article %}
{% load render_table from django_tables2 %}


<div class="flex items-center justify-between">
    <div>
        <h1 class="text-4xl font-bold">{{ object }}</h1>
    </div>
    <div class="flex gap-4">
    </div>
</div>

<p class="prose prose-md mt-5">
    {{ object.description }}
</p>

<c-accordion type='multiple' open="{'item-1': true, 'item-2': true, 'item-3': true}" class="mt-4">
    <c-accordion.item value='item-1'>
        <c-accordion.trigger value='item-1' class="text-2xl font-bold">Metadata</c-accordion.trigger>
        <c-accordion.content value='item-1'>
            <c-table>
                <c-table.body>
                    <c-table.row>
                        <c-table.head class='font-medium'>Keywords</c-table.head>
                        <c-table.cell>{{ object.keywords | join:', ' }}</c-table.cell>
                    </c-table.row>
                    <c-table.row>
                        <c-table.head class='font-medium'>Technologies</c-table.head>
                        <c-table.cell>{{ object.technologies | join:', ' }}</c-table.cell>
                    </c-table.row>
                    <c-table.row>
                        <c-table.head class='font-medium'>Projects</c-table.head>
                        <c-table.cell class="d-flex flex-col">
                            {% for project in object.projects.all %}
                            <div><a href="{% url 'projects:project_detail' pk=project.pk %}">{{ project }}</a></div>
                            {% endfor %}
                        </c-table.cell>
                    </c-table.row>
                </c-table.body>
            </c-table>

        </c-accordion.content>
    </c-accordion.item>
    <c-accordion.item value='item-3'>
        <c-accordion.trigger value='item-3' class="text-2xl font-bold">Contributors</c-accordion.trigger>
        <c-accordion.content value='item-3'>
            {% render_table contributor_table %}
        </c-accordion.content>
    </c-accordion.item>
    <c-accordion.item value='item-2'>
        <c-accordion.trigger value='item-2' class="text-2xl font-bold">Resources</c-accordion.trigger>
        <c-accordion.content value='item-2'>
            {% render_table resource_table %}
        </c-accordion.content>
    </c-accordion.item>
</c-accordion>


{% endblock article %}
